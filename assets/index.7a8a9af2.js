(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();const e={current:{city:"",country:"",temp:0,feels_like:0,description:"",icon:"",wind:0,visibility:0},forecast:{threeHour:{time:"",description:"",temp:0,icon:""},sixHour:{time:"",description:"",temp:0,icon:""},nineHour:{time:"",description:"",temp:0,icon:""}},backgrounds:{winterNightBackground:"url(background-imgs/winter-night-time.webp)",winterDayBackground:"url(background-imgs/winter-day-time.webp)",dayBackground:"url(background-imgs/day-time.webp)",nightBackground:"url(background-imgs/night-time.webp)"}},n=new Date,$="bf8a6a9e6c78c59cdb9e6c5aa6b2eccc",u=document.querySelector(".error-container"),l=document.querySelector(".temperature-value p"),d=document.querySelector(".location p"),g=document.querySelector(".description p"),m=document.querySelector(".icon"),p=document.querySelector(".wind p"),h=document.querySelector(".feels-like p"),f=document.querySelector(".local-time p"),y=document.querySelector(".date p"),H=document.querySelector(".visibility"),w=document.querySelector(".three-hour"),k=document.querySelector(".six-hour"),b=document.querySelector(".nine-hour"),L=document.querySelector("#get-position");function S(){d!==null&&l!==null&&g!==null&&m!==null&&h!==null&&p!==null&&H!==null&&w!==null&&k!==null&&b!==null&&(d.innerHTML=`${e.current.city}, ${e.current.country}`,l.innerHTML=`${e.current.temp}&#176;<span> C</span>`,h.innerHTML=`k\xE4nns som ${e.current.feels_like}<span>&#176; C</span>`,g.innerHTML=e.current.description,m.innerHTML=`<img src="./weather-icons/${e.current.icon}.png" loading="lay" alt="${e.current.description}" width="100" height="100" />`,p.innerHTML=`vind ${e.current.wind} m/s`,H.innerHTML=`sikt ${e.current.visibility} km`,w.innerHTML=`<p>${e.forecast.threeHour.time}</p>
    <img src="./weather-icons/${e.forecast.threeHour.icon}.png" loading="lazy" alt="${e.forecast.threeHour.description}" width="30" height="30" />
    <p>${e.forecast.threeHour.temp}&#176;<span> C</span></p>`,k.innerHTML=`<p>${e.forecast.sixHour.time}</p>
    <img src="./weather-icons/${e.forecast.sixHour.icon}.png" loading="lazy" alt="${e.forecast.sixHour.description}" width="30" height="30" />
    <p>${e.forecast.sixHour.temp}&#176;<span> C</span></p>`,b.innerHTML=`<p>${e.forecast.nineHour.time}</p>
    <img src="./weather-icons/${e.forecast.nineHour.icon}.png" loading="lazy" alt="${e.forecast.threeHour.description}" width="30" height="30" />
    <p>${e.forecast.nineHour.temp}&#176;<span> C</span></p>`)}function M(){u!==null&&(u.style.display="block",u.innerHTML='"lyckades inte h\xE4mta data"')}async function T(s){const{latitude:i,longitude:c}=s.coords,o=`https://api.openweathermap.org/data/2.5/forecast?id=524901&units=metric&lang=sv&lat=${i}&lon=${c}&appid=${$}`;await fetch(o).then(t=>t.json()).then(t=>{e.current.city=t.city.name,e.current.country=t.city.country,e.current.temp=Math.round(t.list[0].main.temp),e.current.description=t.list[0].weather[0].description,e.current.feels_like=Math.round(t.list[0].main.feels_like),e.current.icon=t.list[0].weather[0].icon,e.current.wind=Math.round(t.list[0].wind.speed),e.current.visibility=t.list[0].visibility/10,e.forecast.threeHour.time=new Date(t.list[0].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),e.forecast.threeHour.temp=Math.round(t.list[1].main.temp),e.forecast.threeHour.description=t.list[1].weather[0].description,e.forecast.threeHour.icon=t.list[1].weather[0].icon,e.forecast.sixHour.time=new Date(t.list[1].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),e.forecast.sixHour.temp=Math.round(t.list[2].main.temp),e.forecast.threeHour.description=t.list[2].weather[0].description,e.forecast.sixHour.icon=t.list[2].weather[0].icon,e.forecast.nineHour.time=new Date(t.list[2].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),e.forecast.nineHour.temp=Math.round(t.list[3].main.temp),e.forecast.threeHour.description=t.list[3].weather[0].description,e.forecast.nineHour.icon=t.list[3].weather[0].icon,S()}).catch(M)}function v(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(T,M)}L!==null&&L.addEventListener("click",v);function q(){n.getHours()<7||n.getHours()>17?n.getMonth()>9||n.getMonth()<3?document.body.style.backgroundImage=e.backgrounds.winterNightBackground:document.body.style.backgroundImage=e.backgrounds.nightBackground:n.getMonth()<9||n.getMonth()>3?document.body.style.backgroundImage=e.backgrounds.winterDayBackground:document.body.style.backgroundImage=e.backgrounds.dayBackground}function x(){f!=null&&y!=null&&(y.innerHTML=n.toLocaleDateString(),f.innerHTML=n.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})),q()}x();
